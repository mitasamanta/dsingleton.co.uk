<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
  <title>Testing the Tumblr API</title>

  <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    
  <meta name="description" content="The blog of David Singleton, Ramblings of a Web Developer" />
  <link href='http://fonts.googleapis.com/css?family=Volkhov:400,700|Gentium+Book+Basic:400,700italic,400italic,700' rel='stylesheet' type='text/css'>
  <link href="/atom.xml" rel="alternate" title="David Singleton" type="application/atom+xml" />

  <link rel="stylesheet" href="/static/css/base.css" type="text/css" />
</head>

<body class="">
    
  <header id="header">
    <p>
      <span class="myname">
        <a class="name" href="/" ><span class="firstname">David</span> <span class="lastname">Singleton</span></a>
      </span>
      <br>
      <span class="aboutme">
        A <span class="title">web developer</span>
        living in <span class="adr"><span class="locality">London</span></span>.
      </span>
      <span class="tagline">I sometimes <a href="/blog">blog</a> &amp; write <a href="/code">code</a> &mdash; more <a href="/about">about me</a></span>
    </p>
  </header>

  <div id="main" role="main">
    <article class="post">
  
  <header>
    <h1>Testing the Tumblr API</h1>
    <p class="post-info">
      <abbr class="published" title="2009-07-14 23:50:53 +0100">14 Jul 2009</abbr>
    </p>
  </header>

  <p>Just testing the Tumblr API. I&#8217;ve been pulling content in to my personal site (<a href="http://dsingleton.co.uk">http://dsingleton.co.uk</a>) via the JSON API using the <em>search</em> parameter.</p>

<p>Looking up by slug for each article works for all except Open Tech 2009. For some reason it doesn&#8217;t seem to be in the search index, as it&#8217;s not even picked up when searching for the term &#8220;open&#8221;.</p>

<p>Possibly explanations</p>

<ol><li>Large articles aren&#8217;t indexed for the search API - My open tech post was ~3,500 words. </li>
<li>That article is missing from the index due to a bug, possibly a caching error.</li>
</ol><p>The former sounds a little unlikely. While Tumblr is intended for short snappy posts I&#8217;m sure there are much longer posts, and ~3,500 is not <em>that</em> big.</p>

<p>Equally, i&#8217;m not sure it&#8217;s a caching bug as i&#8217;ve edited it a couple of times in an attempt to invalid the cache. No joy there.</p>

<p>I&#8217;ve contacted one of the Tumblr developers, hoping they can shed some light on the problem - or at least explain the search nuances I may be missing.</p>

<p>I also asked for a new API parameter, getBySlug. I wouldn&#8217;t need to be mucking around with search if there was a simple method to look up an article by it&#8217;s public slug (not the semi-private internal post ID).</p>

<p>A short term fix for me will be caching a map of slug =&gt; id of the last 50 articles I added to my Tumble log (the most you can get form the API in one page) and using that to do the API lookup. It feels pretty kludgey requiring stateful information between requests to do this (or worse, make two requests per page).</p>


  

</article>

  </div>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-609105-1', 'dsingleton.co.uk');
    ga('send', 'pageview');

  </script>

</body>
</html>
